<div class="b-data__bg" style="background-image: url('null');">
	<span class="b-data__caption">
		null
	</span>
</div>

<header class="b-data__header">
	<div class="row-main">
		<h1 class="b-data__title">
			<strong id="snfl-title-div">
				<!--[[ZPRAVY_TITLE:]]-->
			</strong>
		</h1>

		<script>
			if (window.location.href.indexOf("www.irozhlas") < 0) {
				document.getElementById("snfl-title-div").innerHTML = "Od moru ke covidu";
			}
		</script>

		<p class="meta meta--lg">
			<!--[[ZPRAVY_SNOWFALL_AUTHORS:]]-->
			<span class="meta__separator">|</span>
			<time>
					<!--[[ZPRAVY_DATE_PUBLICATION: j. n. Y]]-->
			</time>
		</p>  

		<p>
			<a href="#content" class="b-data__link js-scroll-to">
				Čtěte dále
				<span class="b-data__link-icon">
					<span class="icon-svg icon-svg--arrow-down">
						<svg class="icon-svg__svg" xmlns:xlink="http://www.w3.org/1999/xlink">
							<use xlink:href="/sites/all/themes/custom/irozhlas/img/bg/icons-svg.svg#icon-arrow-down" x="0" y="0" width="100%" height="100%"></use>
						</svg>
					</span>
				</span>
			</a>
		</p>
	</div>
</header> 

<div class="b-data__content" id="content">
	
	<style>ol.snowfall,ul.snowfall{list-style:initial!important;font-size:medium!important;line-height:1.5!important}ol.snowfall>li,ul.snowfall>li{background:0 0!important;margin:0!important;padding:0!important}hr.snowfall{max-width:none!important}#prvni-republika-pribehy{position:relative;margin-top:-20px}#prvni-republika-pribehy>.step{position:relative;padding-bottom:10vh;padding-top:30px;z-index:3}#prvni-republika-pribehy>.step>.step-text{max-width:620px;margin:0 auto}#prvni-republika-pribehy>div:nth-child(2){margin-top:-85vh}#prvni-republika-pribehy:after{content:"";display:block;height:60vh}#prvni-republika-pribehy>.viz-container{position:sticky;top:30%;height:70vh;width:100%;background:#fff;z-index:4;margin-top:15vh;padding:30px}#prvni-republika-pribehy>.viz-container:before{content:"";position:absolute;top:-30px;left:0;right:0;height:30px;background:linear-gradient(rgba(255,255,255,0),#fff)}#prvni-republika-pribehy>.viz-container>.dots{position:absolute;top:0;bottom:30vh;right:0;width:16px;display:flex;flex-direction:column;justify-content:center}#prvni-republika-pribehy>.viz-container>.dots>.dot{margin:2px 0;padding:0;width:12px;height:12px;border:2px solid #fff;background:#ccc;border-radius:50%}#prvni-republika-pribehy>.viz-container>.dots>.dot.is-active{background:#000;border-color:#000}#prvni-republika-pribehy>.viz-container .annotation-firstrepublic{stroke-dasharray:1,3}#prvni-republika-pribehy>.viz-container .annotation-firstrepublic .note-line{stroke-width:0}#prvni-republika-pribehy>.viz-container .annotation-secondworldwar{stroke-width:0}@media (max-width:449.9px){#prvni-republika-pribehy>div:nth-child(2){margin-top:-98vh}#prvni-republika-pribehy>.viz-container{top:40%;height:60vh;margin-top:40vh;padding:10px}#prvni-republika-pribehy>.viz-container>.dots{bottom:40vh;width:10px;right:-5px}#prvni-republika-pribehy>.viz-container>.dots>.dot{width:8px;height:8px;border-width:1px}}body,html{overflow:initial!important}.mock-content{text-align:center;font-style:italic;margin:4rem 0}.series-label{font-weight:700}</style>

	<div class="row-main row-main--narrow">
		<p class="text-bold text-lg">
			S covidem, nebo na covid? Na otázku, která na jaře zamotala hlavu celé civilizaci – tedy jaká je příčina úmrtí – hledá medicína odpověď přes sto let. Odpověď přitom rozhoduje o tom, čemu zdravotnictví věnuje pozornost a kam tečou peníze.
		</p>
		<p>Představte si situaci: pacient, který se celoživotně léčí s&nbsp;cukrovkou a&nbsp;bere léky na vysoký krevní tlak, zemře na komplikace spojené s&nbsp;novým koronavirem. Jaká je hlavní příčina smrti? Diabetes, hypertenze, nebo covid-19?</p>
<p>Pod svícnem pandemie se zdá jasné, že koronavirus. Jenže bez souběžných zdravotních problémů – komorbidit – nemoc obvykle nezabíjí. „Příčina úmrtí: covid-19“ je neúplná informace, která skrývá, že jde o&nbsp;pacienta s&nbsp;dlouhodobými potížemi.</p>
<p>Opačný případ, kdy lékař upřednostní některou z&nbsp;dlouhodobých příčin, zase povede k&nbsp;tomu, že pacient bude chybět mezi oběťmi covidu. Přitom je evidentní, že virus mu život zkrátil, často výrazně. Lékaři mluví o&nbsp;10 až 20 letech.</p>
<p>Statistika příčin úmrtí, která má značný vliv na podobu dnešní lékařské péče, přitom předpokládá, že příčina úmrtí je jen jedna. Pokud ale zdravotnická statistika systematicky upřednostní kterýkoliv ze zmíněných zdravotních problémů – což musí, nemají-li být data nahodilá – nutně přichází o&nbsp;část informace.</p>
<p>Nahraďte covid-19 ve zmíněném příkladu chřipkou a&nbsp;máte představu o&nbsp;dilematu, které zdravotnictví řeší přinejmenším posledních sto let. Odpověď má přitom přímý následek: společnost, která „dá přednost“ vysokému tlaku, najde v&nbsp;rozpočtu víc peněz pro léky na hypertenzi; tam, kde preferují chřipku, dostane přednost vakcína proti této nemoci.</p>
<div id="graf-0.1-komorbidita" class="mock-content">
Tady přibude graf / img

<p>Komorbidita úmrtí na covid</p>
<p>Jaké onemocnění se často vyskytují současně při úmrtí na covid?</p>
</div>

<h2> Kapitola 1: Umírání za císaře pána (1785-1918, protodemografie) </h2>

<p>Důvod, proč začali panovníci hlídat, kolik a&nbsp;jak starých poddaných mají, byly války. Důvod, proč začali sledovat, na co umírají, epidemie.</p>
<p>V sedmnáctém století, kdy zakladatel epidemiologie John Graunt v&nbsp;Londýně krasopisně kreslil první úmrtnostní tabulky, byl ještě aktuální mor; na konci osmnáctého, kdy statistická novinka dorazila do rakouské říše, už morové rány odezněly. Místo něj teď křižovaly Evropu vlny pravých neštovic, cholery a&nbsp;záškrtu.</p>
<p>V českých zemích byli prvními demografy kněží, zmiňuje v&nbsp;knize Tisíc let obyvatelstva českých zemí pozoruhodný demograf Vladimír Srb. „Církevní výkazy o&nbsp;konskribovaných duších“ evidovaly v&nbsp;každé farnosti sňatky, narození a&nbsp;úmrtí od roku 1762. Čísla se nedochovala.</p>
<p>Světská moc následovala tu církevní se zpožděním dvou desítek let. Osvícenského císaře Josefa II. znají školáci díky tolerančnímu patentu a&nbsp;zrušení nevolnictví. Císař byl ovšem hlavně pragmatik a&nbsp;cílem josefinských reforem byla centralizace a&nbsp;racionalizace říše. Zavedl povinná psí vodítka a&nbsp;nenápadným patentem z&nbsp;února 1784 také úřední evidenci obyvatel. </p>
<p>První rakouská statistika úmrtí znala šest příčin smrti: nemoci obyčejné (gewöhnliche), místní (Ortskrankheit) a&nbsp;epidemické, sebevraždy, vraždy a&nbsp;úrazy. Pro sledování epidemií takové rozlišení stačilo.</p>
<p>„Pokud jde o&nbsp;epidemické nemoci, byl největší zájem věnován neštovicím a&nbsp;choleře,“ píše Srb. „V roce 1808 vyšel dvorský dekret, který předpisoval lékařům hlášení hromadného výskytu úmrtí v&nbsp;obci na stejnou, ale kteroukoliv nemoc nadřízeným úřadům. Byla to jakási primitivní epidemiologická ohlašovací služba,“ tedy Protodušek. </p>
<div id="fotka-1.0-nejstarsi-umrti" class="mock-content">
Tady přibude fotka

<p>Nejstarší dochované příčiny úmrtí (1828)</p>
</div>

<p>Neuvěřitelně působí fakt, že ještě před dvěma sty lety se naši předci dožívali v&nbsp;průměru stejného věku jako ve středověku – necelých třiceti let. Na základě kosterních nálezů odhadují historici střední délku života v&nbsp;osmém až desátém století na 27,6 roku. O tisíc let později to podle císařových dat bylo 28,2 roku.</p>
<p>Data z&nbsp;18. století přitom napovídají, co životy zkracovalo: riskantní byl zejména kojenecký a&nbsp;dětský věk; charakteristické zuby v&nbsp;grafu pak odpovídají válečným rokům a&nbsp;vlnám epidemií.</p>
<div id="1.1-graf-stredni-delka" class="mock-content">
Tady přibude graf

<p>Střední délka života v&nbsp;19. století</p>
<p>(1806, 1810, 1814: „Vysoká úmrtnost na začátku století byla jedním z&nbsp;důsledků napoleonských válek.“; 1831-3: cholera; 1843: ?; 1848: revoluce; 1850, 1855: ?; 1866: prusko-rakouská válka; 1872-3: epidemie neštovic; 1000 let, 08.jpg + 17.jpg)</p>
</div>

<p>Život se začal výrazněji prodlužovat až na konci století s&nbsp;rozvojem veřejného zdravotnictví. Experiment s&nbsp;dostupnou lékařskou péčí si mocnářství nejprve odbylo mimo mocenská centra – na Moravě. Zákon o&nbsp;veřejném zdravotnictví zde začal platit v&nbsp;roce 1884, hned v&nbsp;dalších letech je evidentní propad úmrtnosti – u&nbsp;infekčních nemocí na polovinu. Pro velký úspěch tak císař prosadil s&nbsp;několikaletým zpožděním stejné zákony i&nbsp;v Čechách a&nbsp;rakouském Tyrolsku a&nbsp;Vorarlbersku.</p>
<p>Když trochu předběhneme, během necelých 200 let se délka života protáhla z&nbsp;28 na bezmála 80 let. Rozhodně ale nešlo o&nbsp;plynulou změnu: jsou období jako přelom 19. a&nbsp;20. století, kdy se během jedné generace život prodloužil o&nbsp;40 procent. V jiných dobách se nárůst délky života téměř zastavil, v&nbsp;některých desetiletích dokonce obrátil – například za reálného socialismu.</p>
<div id="1.2-graf-zmena-stredni-delka" class="mock-content">
Tady přibude graf

<p>změna střední délky života (abs., %) 1830 až 2019</p>
<p>třicetiletá období (1000 let, 17.jpg) </p>
</div>

<h2> Kapitola 2: První republika (1919-1948, války + Němci)</h2>

<p><b>Mezinárodní klasifikace nemocí</b>
Zavádí se bezprostřední příčina úmrtí: mkn-3 → mkn-5</p>
<p><b>Roztomilé diagnózy</b></p>
<p><b>Vrozený nesprávný tvar srdce</b></p>
<div id="2.0-graf-metodika-std-umrti" class="mock-content">
Tady přibude graf

<p>Toto bude vysvětlení tří typů úmrtí (abs, rel, std)</p>
</div>

</div><div class="row-main row-main--article">
  <div id="prvni-republika-pribehy">
    <div class="viz-container">
      <svg class="viz"></svg>
      <div class="dots"></div>
    </div>
    <div class="step" data-step="1">
      <div class="step-text">
        <h3>Vývoj úmrtí 1919-1948</h3>
        <p>
          <em>Vyvoj standardizovaneho poctu umrti behem prvni republiky, pres 2. svetovou az do komunistickeho prevratu. Zmeny vysvetlime nasledujicimi pribehy!</em>
        </p>
      </div>
    </div>
    <div class="step" data-step="2">
      <div class="step-text">
        <h3>Od první republiky, přes 2. světovou válku</h3>
        <p>
          <em>Komentar k&nbsp;tomu, o&nbsp;jaka leta jde. Ne vsichni ctenari znaji tenhle kontext z&nbsp;hlavy. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</em>
        </p>
      </div>
    </div>
    <div class="step" data-step="3">
      <div class="step-text">
        <h3>22 skupin příčin úmrtí</h3>
        <p>
          <em>Komentar k&nbsp;tomu, proc jich je 22. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas a&nbsp;ante sed urna pretium elementum sed eget tellus.</em>
        </p>
      </div>
    </div>
    <div class="step" data-step="4">
      <div class="step-text">
        <h3>Posun v&nbsp;léčbě tuberkulózy</h3>
        <p>
          V poválečných letech byly největší hrozbou infekční nemoci. Nejobávanější byla tuberkulóza – mezi infekcemi měla na svědomí 60 až 70 procent úmrtí a&nbsp;zabíjela v&nbsp;každém věku, včetně dětského. Během první republiky se podařilo úmrtnost na infekce díky lepší zdravotní péči a&nbsp;lepší výživě snížit na třetinu.
        </p>
      </div>
    </div>
    <div class="step" data-step="5">
      <div class="step-text">
        <h3>Šiřící se obezita</h3>
        <p>
          Okamžik, kdy nemoci srdce přebraly prvenství v&nbsp;úmrtnosti od infekčních nemocí, je pro medicínu důležitý. U tuberkulózy je ochranným faktorem obezita; u&nbsp;nemocí srdce je naopak riziková. V následujících letech proto ubylo například inzerátů na bonbóny, po kterých spolehlivě ztloustnete.
        </p>
      </div>
    </div>
    <div class="step" data-step="6">
      <div class="step-text">
        <h3>Civilizační choroby</h3>
        <p>
          Rapidní prodloužení života znamenalo vyšší úmrtnost na civlizační choroby; typicky nemoci oběhové soustavy a&nbsp;rakovinu. Nemoci srdce se mezi příčinami úmrtí objevily poprvé v&nbsp;roce 1895, ve dvacátých letech už šlo o&nbsp;nejčastější příčinu.
        </p>
      </div>
    </div>
    <div class="step" data-step="7">
      <div class="step-text">
        <h3>Civilizační choroby</h3>
        <p>
          Rapidní prodloužení života znamenalo vyšší úmrtnost na civlizační choroby; typicky nemoci oběhové soustavy a&nbsp;rakovinu. Nemoci srdce se mezi příčinami úmrtí objevily poprvé v&nbsp;roce 1895, ve dvacátých letech už šlo o&nbsp;nejčastější příčinu.
        </p>
      </div>
    </div>
    <div class="step" data-step="8">
      <div class="step-text">
        <h3>Oběti 2. světové války</h3>
        <p>
          Během válečných let dvakrát prudce přibylo násilných úmrtí: v&nbsp;roce 1942 během heydrichiády eviduje oficiální statistika 1 790 popravených. Ještě kritičtější byl konec války, kdy při vojenských akcích zemřelo asi 14 tisíc civilních osob. Přibylo také obětí úrazů, dopravních nehod, vražd a&nbsp;sebevražd. V datech chybí ti, které evidovaly německé úřady: deportované osoby i&nbsp;německá část populace. 
        </p>
      </div>
    </div>
    <div class="step" data-step="9">
      <div class="step-text">
        <h3>A zbytek!</h3>
        <p>
          Hrajte si.
        </p>
      </div>
    </div>
  </div>
</div><div class="row-main row-main--narrow">


<h2> Kapitola 3: Reálný socialismus (1949-1989, zaostávání za Západem) </h2>

<h2 id="kapitola-4-současnost-1989-2018-srovnávání-sevropou">Kapitola 4: Současnost (1989-2018, srovnávání s&nbsp;Evropou)</h2>
<h2 id="pointa-budoucnost">Pointa: Budoucnost</h2>


		<p class="meta meta--right meta--big">
			<!--[[ZPRAVY_SNOWFALL_AUTHORS:FOOTER]]-->
		</p>
	</div>
	<div class="row-main row-main--narrow">
		<!--[[ZPRAVY_SNOWFALL_KEYWORDS:]]-->
	</div>
	<!--[[ZPRAVY_SNOWFALL_RELATED:ARTICLES]]-->
</div>
<script>!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=169)}({143:function(t,n){if("Microsoft Internet Explorer"===navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)){var e=document.createElement("div");e.innerHTML='Používáte zastaralý Internet Explorer, takže vám části tohoto webu nemusí fungovat. Navíc to <a target="_blank" style="color:white;" rel="noopener noreferrer" href="https://www.zive.cz/clanky/microsoft-internet-explorer-neni-prohlizec-prestante-ho-tak-pouzivat/sc-3-a-197149/default.aspx">není bezpečné</a>, zvažte přechod na <a target="_blank" style="color:white;" rel="noopener noreferrer" href="https://www.mozilla.org/cs/firefox/new/">jiný prohlížeč</a>.',e.style.cssText="text-align:center;position:absolute;width:100%;height:auto;opacity:1;z-index:100;background-color:#d52834;top:37px;padding-top:4px;padding-bottom:3px;color:white;",document.body.appendChild(e)}},144:function(t,n){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var n=window.document,e=i(n);e;)e=i(n=e.ownerDocument);return n}(),n=[],e=null,r=null;u.prototype.THROTTLE_TIMEOUT=100,u.prototype.POLL_INTERVAL=null,u.prototype.USE_MUTATION_OBSERVER=!0,u._setupCrossOriginUpdater=function(){return e||(e=function(t,e){r=t&&e?f(t,e):{top:0,bottom:0,left:0,right:0,width:0,height:0},n.forEach((function(t){t._checkForIntersections()}))}),e},u._resetCrossOriginUpdater=function(){e=null,r=null},u.prototype.observe=function(t){if(!this._observationTargets.some((function(n){return n.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},u.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(n){return n.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},u.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},u.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},u.prototype._initThresholds=function(t){var n=t||[0];return Array.isArray(n)||(n=[n]),n.sort().filter((function(t,n,e){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==e[n-1]}))},u.prototype._parseRootMargin=function(t){var n=(t||"0px").split(/\s+/).map((function(t){var n=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!n)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(n[1]),unit:n[2]}}));return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},u.prototype._monitorIntersections=function(n){var e=n.defaultView;if(e&&-1==this._monitoringDocuments.indexOf(n)){var r=this._checkForIntersections,o=null,u=null;if(this.POLL_INTERVAL?o=e.setInterval(r,this.POLL_INTERVAL):(a(e,"resize",r,!0),a(n,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(u=new e.MutationObserver(r)).observe(n,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(n),this._monitoringUnsubscribes.push((function(){var t=n.defaultView;t&&(o&&t.clearInterval(o),s(t,"resize",r,!0)),s(n,"scroll",r,!0),u&&u.disconnect()})),n!=(this.root&&this.root.ownerDocument||t)){var c=i(n);c&&this._monitorIntersections(c.ownerDocument)}}},u.prototype._unmonitorIntersections=function(n){var e=this._monitoringDocuments.indexOf(n);if(-1!=e){var r=this.root&&this.root.ownerDocument||t;if(!this._observationTargets.some((function(t){var e=t.element.ownerDocument;if(e==n)return!0;for(;e&&e!=r;){var o=i(e);if((e=o&&o.ownerDocument)==n)return!0}return!1}))){var o=this._monitoringUnsubscribes[e];if(this._monitoringDocuments.splice(e,1),this._monitoringUnsubscribes.splice(e,1),o(),n!=r){var u=i(n);u&&this._unmonitorIntersections(u.ownerDocument)}}}},u.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var n=0;n<t.length;n++)t[n]()},u.prototype._checkForIntersections=function(){if(this.root||!e||r){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,u=c(i),a=this._rootContainsTarget(i),s=r.entry,l=t&&a&&this._computeTargetAndRootIntersection(i,u,n),f=r.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:u,rootBounds:e&&!this.root?null:n,intersectionRect:l});s?t&&a?this._hasCrossedThreshold(s,f)&&this._queuedEntries.push(f):s&&s.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},u.prototype._computeTargetAndRootIntersection=function(n,i,o){if("none"!=window.getComputedStyle(n).display){for(var u,a,s,l,h,d,v,g,m=i,y=p(n),w=!1;!w&&y;){var _=null,b=1==y.nodeType?window.getComputedStyle(y):{};if("none"==b.display)return null;if(y==this.root||9==y.nodeType)if(w=!0,y==this.root||y==t)e&&!this.root?!r||0==r.width&&0==r.height?(y=null,_=null,m=null):_=r:_=o;else{var x=p(y),M=x&&c(x),k=x&&this._computeTargetAndRootIntersection(x,M,o);M&&k?(y=x,_=f(M,k)):(y=null,m=null)}else{var T=y.ownerDocument;y!=T.body&&y!=T.documentElement&&"visible"!=b.overflow&&(_=c(y))}if(_&&(u=_,a=m,s=void 0,l=void 0,h=void 0,d=void 0,v=void 0,g=void 0,s=Math.max(u.top,a.top),l=Math.min(u.bottom,a.bottom),h=Math.max(u.left,a.left),d=Math.min(u.right,a.right),g=l-s,m=(v=d-h)>=0&&g>=0&&{top:s,bottom:l,left:h,right:d,width:v,height:g}||null),!m)break;y=y&&p(y)}return m}},u.prototype._getRootRect=function(){var n;if(this.root)n=c(this.root);else{var e=t.documentElement,r=t.body;n={top:0,left:0,right:e.clientWidth||r.clientWidth,width:e.clientWidth||r.clientWidth,bottom:e.clientHeight||r.clientHeight,height:e.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(n)},u.prototype._expandRectByRootMargin=function(t){var n=this._rootMarginValues.map((function(n,e){return"px"==n.unit?n.value:n.value*(e%2?t.width:t.height)/100})),e={top:t.top-n[0],right:t.right+n[1],bottom:t.bottom+n[2],left:t.left-n[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},u.prototype._hasCrossedThreshold=function(t,n){var e=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=n.isIntersecting?n.intersectionRatio||0:-1;if(e!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==e||o==r||o<e!=o<r)return!0}},u.prototype._rootIsInDom=function(){return!this.root||h(t,this.root)},u.prototype._rootContainsTarget=function(n){return h(this.root||t,n)&&(!this.root||this.root.ownerDocument==n.ownerDocument)},u.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},u.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},window.IntersectionObserver=u,window.IntersectionObserverEntry=o}function i(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=l(t.rootBounds),this.boundingClientRect=l(t.boundingClientRect),this.intersectionRect=l(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var n=this.boundingClientRect,e=n.width*n.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=e?Number((i/e).toFixed(4)):this.isIntersecting?1:0}function u(t,n){var e,r,i,o=n||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(e=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){e(),i=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(t,n,e,r){"function"==typeof t.addEventListener?t.addEventListener(n,e,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+n,e)}function s(t,n,e,r){"function"==typeof t.removeEventListener?t.removeEventListener(n,e,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+n,e)}function c(t){var n;try{n=t.getBoundingClientRect()}catch(t){}return n?(n.width&&n.height||(n={top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.right-n.left,height:n.bottom-n.top}),n):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function f(t,n){var e=n.top-t.top,r=n.left-t.left;return{top:e,left:r,height:n.height,width:n.width,bottom:e+n.height,right:r+n.width}}function h(t,n){for(var e=n;e;){if(e==t)return!0;e=p(e)}return!1}function p(n){var e=n.parentNode;return 9==n.nodeType&&n!=t?i(n):e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},145:function(t,n){t.exports=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}},146:function(t,n,e){var r=e(147);t.exports=function(t){return"function"==typeof t?t:r}},147:function(t,n){t.exports=function(t){return t}},148:function(t,n,e){var r=e(149);t.exports=function(t){var n=r(t),e=n%1;return n==n?e?n-e:n:0}},149:function(t,n,e){var r=e(32);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},150:function(t,n,e){var r=e(18),i=e(153),o=e(154),u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?i(t):o(t)}},151:function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(this,e(152))},152:function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},153:function(t,n,e){var r=e(18),i=Object.prototype,o=i.hasOwnProperty,u=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var n=o.call(t,a),e=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=u.call(t);return r&&(n?t[a]=e:delete t[a]),i}},154:function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},155:function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},156:function(t,n,e){var r=e(35);t.exports=function(){return r.Date.now()}},157:function(t,n,e){var r=e(158),i=e(159),o=e(165),u=RegExp("['’]","g");t.exports=function(t){return function(n){return r(o(i(n).replace(u,"")),t,"")}}},158:function(t,n){t.exports=function(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}},159:function(t,n,e){var r=e(160),i=e(36),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,u=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=i(t))&&t.replace(o,r).replace(u,"")}},160:function(t,n,e){var r=e(161)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});t.exports=r},161:function(t,n){t.exports=function(t){return function(n){return null==t?void 0:t[n]}}},162:function(t,n,e){var r=e(18),i=e(163),o=e(164),u=e(34),a=r?r.prototype:void 0,s=a?a.toString:void 0;t.exports=function t(n){if("string"==typeof n)return n;if(o(n))return i(n,t)+"";if(u(n))return s?s.call(n):"";var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},163:function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}},164:function(t,n){var e=Array.isArray;t.exports=e},165:function(t,n,e){var r=e(166),i=e(167),o=e(36),u=e(168);t.exports=function(t,n,e){return t=o(t),void 0===(n=e?void 0:n)?i(t)?u(t):r(t):t.match(n)||[]}},166:function(t,n){var e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=function(t){return t.match(e)||[]}},167:function(t,n){var e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=function(t){return e.test(t)}},168:function(t,n){var e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+e+"]",i="\\d+",o="[\\u2700-\\u27bf]",u="[a-z\\xdf-\\xf6\\xf8-\\xff]",a="[^\\ud800-\\udfff"+e+i+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",l="[A-Z\\xc0-\\xd6\\xd8-\\xde]",f="(?:"+u+"|"+a+")",h="(?:"+l+"|"+a+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",d="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",s,c].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),v="(?:"+[o,s,c].join("|")+")"+d,g=RegExp([l+"?"+u+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[r,l,"$"].join("|")+")",h+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[r,l+f,"$"].join("|")+")",l+"?"+f+"+(?:['’](?:d|ll|m|re|s|t|ve))?",l+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i,v].join("|"),"g");t.exports=function(t){return t.match(g)||[]}},169:function(t,n,e){"use strict";e.r(n);e(143);function r(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}var i=Array.prototype.slice,o=function(t){return t};function u(t){return"translate("+(t+.5)+",0)"}function a(t){return"translate(0,"+(t+.5)+")"}function s(t){return n=>+t(n)}function c(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function l(){return!this.__axis}function f(t,n){var e=[],r=null,f=null,h=6,p=6,d=3,v=1===t||4===t?-1:1,g=4===t||2===t?"x":"y",m=1===t||3===t?u:a;function y(i){var u=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,a=null==f?n.tickFormat?n.tickFormat.apply(n,e):o:f,y=Math.max(h,0)+d,w=n.range(),_=+w[0]+.5,b=+w[w.length-1]+.5,x=(n.bandwidth?c:s)(n.copy()),M=i.selection?i.selection():i,k=M.selectAll(".domain").data([null]),T=M.selectAll(".tick").data(u,n).order(),A=T.exit(),S=T.enter().append("g").attr("class","tick"),E=T.select("line"),C=T.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(S),E=E.merge(S.append("line").attr("stroke","currentColor").attr(g+"2",v*h)),C=C.merge(S.append("text").attr("fill","currentColor").attr(g,v*y).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),i!==M&&(k=k.transition(i),T=T.transition(i),E=E.transition(i),C=C.transition(i),A=A.transition(i).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=x(t))?m(t):this.getAttribute("transform")})),S.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return m(n&&isFinite(n=n(t))?n:x(t))}))),A.remove(),k.attr("d",4===t||2==t?p?"M"+v*p+","+_+"H0.5V"+b+"H"+v*p:"M0.5,"+_+"V"+b:p?"M"+_+","+v*p+"V0.5H"+b+"V"+v*p:"M"+_+",0.5H"+b),T.attr("opacity",1).attr("transform",(function(t){return m(x(t))})),E.attr(g+"2",v*h),C.attr(g,v*y).text(a),M.filter(l).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),M.each((function(){this.__axis=x}))}return y.scale=function(t){return arguments.length?(n=t,y):n},y.ticks=function(){return e=i.call(arguments),y},y.tickArguments=function(t){return arguments.length?(e=null==t?[]:i.call(t),y):e.slice()},y.tickValues=function(t){return arguments.length?(r=null==t?null:i.call(t),y):r&&r.slice()},y.tickFormat=function(t){return arguments.length?(f=t,y):f},y.tickSize=function(t){return arguments.length?(h=p=+t,y):h},y.tickSizeInner=function(t){return arguments.length?(h=+t,y):h},y.tickSizeOuter=function(t){return arguments.length?(p=+t,y):p},y.tickPadding=function(t){return arguments.length?(d=+t,y):d},y}function h(t){return f(4,t)}var p={value:()=>{}};function d(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new v(r)}function v(t){this._=t}function g(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function m(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function y(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=p,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}v.prototype=d.prototype={constructor:v,on:function(t,n){var e,r=this._,i=g(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=y(r[e],t.name,n);else if(null==n)for(e in r)r[e]=y(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=m(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new v(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var w=d;function _(){}var b=function(t){return null==t?_:function(){return this.querySelector(t)}},x=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function M(){return[]}var k=function(t){return null==t?M:function(){return this.querySelectorAll(t)}};var T=function(t){return function(){return this.matches(t)}};function A(t){return function(n){return n.matches(t)}}var S=Array.prototype.find;function E(){return this.firstElementChild}var C=Array.prototype.filter;function N(){return this.children}var D=function(t){return new Array(t.length)};function U(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}U.prototype={constructor:U,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var I=function(t){return function(){return t}};function O(t,n,e,r,i,o){for(var u,a=0,s=n.length,c=o.length;a<c;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new U(t,o[a]);for(;a<s;++a)(u=n[a])&&(i[a]=u)}function z(t,n,e,r,i,o,u){var a,s,c,l=new Map,f=n.length,h=o.length,p=new Array(f);for(a=0;a<f;++a)(s=n[a])&&(p[a]=c=u.call(s,s.__data__,a,n)+"",l.has(c)?i[a]=s:l.set(c,s));for(a=0;a<h;++a)c=u.call(t,o[a],a,o)+"",(s=l.get(c))?(r[a]=s,s.__data__=o[a],l.delete(c)):e[a]=new U(t,o[a]);for(a=0;a<f;++a)(s=n[a])&&l.get(p[a])===s&&(i[a]=s)}function j(t){return t.__data__}function L(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var F="http://www.w3.org/1999/xhtml",R={svg:"http://www.w3.org/2000/svg",xhtml:F,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Y=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),R.hasOwnProperty(n)?{space:R[n],local:t}:t};function H(t){return function(){this.removeAttribute(t)}}function P(t){return function(){this.removeAttributeNS(t.space,t.local)}}function q(t,n){return function(){this.setAttribute(t,n)}}function V(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function B(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Z(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var X=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function $(t){return function(){this.style.removeProperty(t)}}function W(t,n,e){return function(){this.style.setProperty(t,n,e)}}function G(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Q(t,n){return t.style.getPropertyValue(n)||X(t).getComputedStyle(t,null).getPropertyValue(n)}function J(t){return function(){delete this[t]}}function K(t,n){return function(){this[t]=n}}function tt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function nt(t){return t.trim().split(/^|\s+/)}function et(t){return t.classList||new rt(t)}function rt(t){this._node=t,this._names=nt(t.getAttribute("class")||"")}function it(t,n){for(var e=et(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ot(t,n){for(var e=et(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function ut(t){return function(){it(this,t)}}function at(t){return function(){ot(this,t)}}function st(t,n){return function(){(n.apply(this,arguments)?it:ot)(this,t)}}rt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ct(){this.textContent=""}function lt(t){return function(){this.textContent=t}}function ft(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function ht(){this.innerHTML=""}function pt(t){return function(){this.innerHTML=t}}function dt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function vt(){this.nextSibling&&this.parentNode.appendChild(this)}function gt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===F&&n.documentElement.namespaceURI===F?n.createElement(t):n.createElementNS(e,t)}}function yt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var wt=function(t){var n=Y(t);return(n.local?yt:mt)(n)};function _t(){return null}function bt(){var t=this.parentNode;t&&t.removeChild(this)}function xt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Mt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function kt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Tt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function At(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function St(t,n,e){var r=X(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Et(t,n){return function(){return St(this,t,n)}}function Ct(t,n){return function(){return St(this,t,n.apply(this,arguments))}}var Nt=[null];function Dt(t,n){this._groups=t,this._parents=n}function Ut(){return new Dt([[document.documentElement]],Nt)}Dt.prototype=Ut.prototype={constructor:Dt,select:function(t){"function"!=typeof t&&(t=b(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],s=a.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=a[l])&&(u=t.call(o,o.__data__,l,a))&&("__data__"in o&&(u.__data__=o.__data__),c[l]=u);return new Dt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:x(n)}}(t):k(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],s=a.length,c=0;c<s;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),i.push(u));return new Dt(r,i)},selectChild:function(t){return this.select(null==t?E:function(t){return function(){return S.call(this.children,t)}}("function"==typeof t?t:A(t)))},selectChildren:function(t){return this.selectAll(null==t?N:function(t){return function(){return C.call(this.children,t)}}("function"==typeof t?t:A(t)))},filter:function(t){"function"!=typeof t&&(t=T(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new Dt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,j);var e=n?z:O,r=this._parents,i=this._groups;"function"!=typeof t&&(t=I(t));for(var o=i.length,u=new Array(o),a=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,p=x(t.call(l,l&&l.__data__,c,r)),d=p.length,v=a[c]=new Array(d),g=u[c]=new Array(d),m=s[c]=new Array(h);e(l,f,v,g,m,p,n);for(var y,w,_=0,b=0;_<d;++_)if(y=v[_]){for(_>=b&&(b=_+1);!(w=g[b])&&++b<d;);y._next=w||null}}return(u=new Dt(u,r))._enter=a,u._exit=s,u},enter:function(){return new Dt(this._enter||this._groups.map(D),this._parents)},exit:function(){return new Dt(this._exit||this._groups.map(D),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Dt))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,c=n[a],l=e[a],f=c.length,h=u[a]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;a<r;++a)u[a]=n[a];return new Dt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=L);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],s=a.length,c=i[o]=new Array(s),l=0;l<s;++l)(u=a[l])&&(c[l]=u);c.sort(n)}return new Dt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=Y(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?P:H:"function"==typeof n?e.local?Z:B:e.local?V:q)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?$:"function"==typeof n?G:W)(t,n,null==e?"":e)):Q(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?J:"function"==typeof n?tt:K)(t,n)):this.node()[t]},classed:function(t,n){var e=nt(t+"");if(arguments.length<2){for(var r=et(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?st:n?ut:at)(e,n))},text:function(t){return arguments.length?this.each(null==t?ct:("function"==typeof t?ft:lt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ht:("function"==typeof t?dt:pt)(t)):this.node().innerHTML},raise:function(){return this.each(vt)},lower:function(){return this.each(gt)},append:function(t){var n="function"==typeof t?t:wt(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:wt(t),r=null==n?_t:"function"==typeof n?n:b(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(bt)},clone:function(t){return this.select(t?Mt:xt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=kt(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?At:Tt,r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var s,c=0,l=a.length;c<l;++c)for(r=0,s=a[c];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Ct:Et)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var It=Ut,Ot=function(t){return"string"==typeof t?new Dt([[document.querySelector(t)]],[document.documentElement]):new Dt([[t]],Nt)};var zt=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function jt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Lt(){}var Ft="\\s*([+-]?\\d+)\\s*",Rt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ht=/^#([0-9a-f]{3,8})$/,Pt=new RegExp("^rgb\\("+[Ft,Ft,Ft]+"\\)$"),qt=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),Vt=new RegExp("^rgba\\("+[Ft,Ft,Ft,Rt]+"\\)$"),Bt=new RegExp("^rgba\\("+[Yt,Yt,Yt,Rt]+"\\)$"),Zt=new RegExp("^hsl\\("+[Rt,Yt,Yt]+"\\)$"),Xt=new RegExp("^hsla\\("+[Rt,Yt,Yt,Rt]+"\\)$"),$t={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Wt(){return this.rgb().formatHex()}function Gt(){return this.rgb().formatRgb()}function Qt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Ht.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Jt(n):3===e?new en(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Kt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Kt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Pt.exec(t))?new en(n[1],n[2],n[3],1):(n=qt.exec(t))?new en(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Vt.exec(t))?Kt(n[1],n[2],n[3],n[4]):(n=Bt.exec(t))?Kt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Zt.exec(t))?an(n[1],n[2]/100,n[3]/100,1):(n=Xt.exec(t))?an(n[1],n[2]/100,n[3]/100,n[4]):$t.hasOwnProperty(t)?Jt($t[t]):"transparent"===t?new en(NaN,NaN,NaN,0):null}function Jt(t){return new en(t>>16&255,t>>8&255,255&t,1)}function Kt(t,n,e,r){return r<=0&&(t=n=e=NaN),new en(t,n,e,r)}function tn(t){return t instanceof Lt||(t=Qt(t)),t?new en((t=t.rgb()).r,t.g,t.b,t.opacity):new en}function nn(t,n,e,r){return 1===arguments.length?tn(t):new en(t,n,e,null==r?1:r)}function en(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function rn(){return"#"+un(this.r)+un(this.g)+un(this.b)}function on(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function un(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function an(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new cn(t,n,e,r)}function sn(t){if(t instanceof cn)return new cn(t.h,t.s,t.l,t.opacity);if(t instanceof Lt||(t=Qt(t)),!t)return new cn;if(t instanceof cn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,s=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=s<.5?o+i:2-o-i,u*=60):a=s>0&&s<1?0:u,new cn(u,a,s,t.opacity)}function cn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ln(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function fn(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}zt(Lt,Qt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Wt,formatHex:Wt,formatHsl:function(){return sn(this).formatHsl()},formatRgb:Gt,toString:Gt}),zt(en,nn,jt(Lt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new en(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new en(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rn,formatHex:rn,formatRgb:on,toString:on})),zt(cn,(function(t,n,e,r){return 1===arguments.length?sn(t):new cn(t,n,e,null==r?1:r)}),jt(Lt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new cn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new cn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new en(ln(t>=240?t-240:t+120,i,r),ln(t,i,r),ln(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var hn=t=>()=>t;function pn(t,n){return function(e){return t+e*n}}function dn(t){return 1==(t=+t)?vn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):hn(isNaN(n)?e:n)}}function vn(t,n){var e=n-t;return e?pn(t,e):hn(isNaN(t)?n:t)}var gn=function t(n){var e=dn(n);function r(t,n){var r=e((t=nn(t)).r,(n=nn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=vn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function mn(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=nn(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}mn((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return fn((e-r/n)*n,u,i,o,a)}})),mn((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return fn((e-r/n)*n,i,o,u,a)}}));var yn=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}};function wn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _n(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=Cn(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}var bn=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},xn=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},Mn=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Cn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tn=new RegExp(kn.source,"g");var An,Sn,En=function(t,n){var e,r,i,o=kn.lastIndex=Tn.lastIndex=0,u=-1,a=[],s=[];for(t+="",n+="";(e=kn.exec(t))&&(r=Tn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,s.push({i:u,x:xn(e,r)})),o=Tn.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)a[(e=s[r]).i]=e.x(t);return a.join("")})},Cn=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?hn(n):("number"===r?xn:"string"===r?(e=Qt(n))?(n=e,gn):En:n instanceof Qt?gn:n instanceof Date?bn:wn(n)?yn:Array.isArray(n)?_n:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Mn:xn)(t,n)},Nn=0,Dn=0,Un=0,In=0,On=0,zn=0,jn="object"==typeof performance&&performance.now?performance:Date,Ln="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Fn(){return On||(Ln(Rn),On=jn.now()+zn)}function Rn(){On=0}function Yn(){this._call=this._time=this._next=null}function Hn(t,n,e){var r=new Yn;return r.restart(t,n,e),r}function Pn(){On=(In=jn.now())+zn,Nn=Dn=0;try{!function(){Fn(),++Nn;for(var t,n=An;n;)(t=On-n._time)>=0&&n._call.call(null,t),n=n._next;--Nn}()}finally{Nn=0,function(){var t,n,e=An,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:An=n);Sn=t,Vn(r)}(),On=0}}function qn(){var t=jn.now(),n=t-In;n>1e3&&(zn-=n,In=t)}function Vn(t){Nn||(Dn&&(Dn=clearTimeout(Dn)),t-On>24?(t<1/0&&(Dn=setTimeout(Pn,t-jn.now()-zn)),Un&&(Un=clearInterval(Un))):(Un||(In=jn.now(),Un=setInterval(qn,1e3)),Nn=1,Ln(Pn)))}Yn.prototype=Hn.prototype={constructor:Yn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Fn():+e)+(null==n?0:+n),this._next||Sn===this||(Sn?Sn._next=this:An=this,Sn=this),this._call=t,this._time=e,Vn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vn())}};var Bn=function(t,n,e){var r=new Yn;return n=null==n?0:+n,r.restart(e=>{r.stop(),t(e+n)},n,e),r},Zn=w("start","end","cancel","interrupt"),Xn=[],$n=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(1!==e.state)return a();for(c in i)if((h=i[c]).name===e.name){if(3===h.state)return Bn(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Bn((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Hn((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Zn,tween:Xn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Wn(t,n){var e=Qn(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Gn(t,n){var e=Qn(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Qn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Jn,Kn=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}},te=180/Math.PI,ne={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ee=function(t,n,e,r,i,o){var u,a,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,s/=a),t*r<n*e&&(t=-t,n=-n,s=-s,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*te,skewX:Math.atan(s)*te,scaleX:u,scaleY:a}};function re(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],s=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var s=u.push("translate(",null,n,null,e);a.push({i:s-4,x:xn(t,i)},{i:s-2,x:xn(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:xn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:xn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,s),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:xn(t,e)},{i:a-2,x:xn(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,s),o=u=null,function(t){for(var n,e=-1,r=s.length;++e<r;)a[(n=s[e]).i]=n.x(t);return a.join("")}}}var ie=re((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?ne:ee(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),oe=re((function(t){return null==t?ne:(Jn||(Jn=document.createElementNS("http://www.w3.org/2000/svg","g")),Jn.setAttribute("transform",t),(t=Jn.transform.baseVal.consolidate())?(t=t.matrix,ee(t.a,t.b,t.c,t.d,t.e,t.f)):ne)}),", ",")",")");function ue(t,n){var e,r;return function(){var i=Gn(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}function ae(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Gn(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=a;break}s===c&&i.push(a)}o.tween=i}}function se(t,n,e){var r=t._id;return t.each((function(){var t=Gn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Qn(t,r).value[n]}}var ce=function(t,n){var e;return("number"==typeof n?xn:n instanceof Qt?gn:(e=Qt(n))?(n=e,gn):En)(t,n)};function le(t){return function(){this.removeAttribute(t)}}function fe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function he(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function pe(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function de(t,n,e){var r,i,o;return function(){var u,a,s=e(this);if(null!=s)return(u=this.getAttribute(t))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,s));this.removeAttribute(t)}}function ve(t,n,e){var r,i,o;return function(){var u,a,s=e(this);if(null!=s)return(u=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,s));this.removeAttributeNS(t.space,t.local)}}function ge(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function me(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ye(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&me(t,i)),e}return i._value=n,i}function we(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&ge(t,i)),e}return i._value=n,i}function _e(t,n){return function(){Wn(this,t).delay=+n.apply(this,arguments)}}function be(t,n){return n=+n,function(){Wn(this,t).delay=n}}function xe(t,n){return function(){Gn(this,t).duration=+n.apply(this,arguments)}}function Me(t,n){return n=+n,function(){Gn(this,t).duration=n}}function ke(t,n){if("function"!=typeof n)throw new Error;return function(){Gn(this,t).ease=n}}function Te(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Wn:Gn;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}var Ae=It.prototype.constructor;function Se(t){return function(){this.style.removeProperty(t)}}function Ee(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ce(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Ee(t,o,e)),r}return o._value=n,o}function Ne(t){return function(n){this.textContent=t.call(this,n)}}function De(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Ne(r)),n}return r._value=t,r}var Ue=0;function Ie(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Oe(){return++Ue}var ze=It.prototype;Ie.prototype=function(t){return It().transition(t)}.prototype={constructor:Ie,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=b(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,s,c=r[u],l=c.length,f=o[u]=new Array(l),h=0;h<l;++h)(a=c[h])&&(s=t.call(a,a.__data__,h,c))&&("__data__"in a&&(s.__data__=a.__data__),f[h]=s,$n(f[h],n,e,h,f,Qn(a,e)));return new Ie(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=k(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var s,c=r[a],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,p=t.call(s,s.__data__,f,c),d=Qn(s,e),v=0,g=p.length;v<g;++v)(h=p[v])&&$n(h,n,e,v,p,d);o.push(p),u.push(s)}return new Ie(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=T(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,s=r[i]=[],c=0;c<a;++c)(o=u[c])&&t.call(o,o.__data__,c,u)&&s.push(o);return new Ie(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,c=n[a],l=e[a],f=c.length,h=u[a]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;a<r;++a)u[a]=n[a];return new Ie(u,this._parents,this._name,this._id)},selection:function(){return new Ae(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Oe(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,c=0;c<s;++c)if(u=a[c]){var l=Qn(u,n);$n(u,t,e,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ie(r,this._parents,t,e)},call:ze.call,nodes:ze.nodes,node:ze.node,size:ze.size,empty:ze.empty,each:ze.each,on:function(t,n){var e=this._id;return arguments.length<2?Qn(this.node(),e).on.on(t):this.each(Te(e,t,n))},attr:function(t,n){var e=Y(t),r="transform"===e?oe:ce;return this.attrTween(t,"function"==typeof n?(e.local?ve:de)(e,r,se(this,"attr."+t,n)):null==n?(e.local?fe:le)(e):(e.local?pe:he)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Y(t);return this.tween(e,(r.local?ye:we)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?ie:ce;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Q(this,t),u=(this.style.removeProperty(t),Q(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,Se(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=Q(this,t),a=e(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=Q(this,t)),u===s?null:u===r&&s===i?o:(i=s,o=n(r=u,a))}}(t,r,se(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var s=Gn(this,t),c=s.on,l=null==s.value[u]?o||(o=Se(n)):void 0;c===e&&i===l||(r=(e=c).copy()).on(a,i=l),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=Q(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Ce(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(se(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,De(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Qn(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?ue:ae)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?_e:be)(n,t)):Qn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?xe:Me)(n,t)):Qn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(ke(n,t)):Qn(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Gn(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},s={value:function(){0==--i&&o()}};e.each((function(){var e=Gn(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(s)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:ze[Symbol.iterator]};var je={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Le(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}It.prototype.interrupt=function(t){return this.each((function(){Kn(this,t)}))},It.prototype.transition=function(t){var n,e;t instanceof Ie?(n=t._id,t=t._name):(n=Oe(),(e=je).time=Fn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,c=0;c<s;++c)(u=a[c])&&$n(u,t,n,c,a,e||Le(u,n));return new Ie(r,this._parents,t,n)};const{abs:Fe,max:Re,min:Ye}=Math;function He(t){return[+t[0],+t[1]]}function Pe(t){return[He(t[0]),He(t[1])]}["w","e"].map(qe),["n","s"].map(qe),["n","w","e","s","nw","ne","sw","se"].map(qe);function qe(t){return{type:t}}var Ve=Math.sqrt(50),Be=Math.sqrt(10),Ze=Math.sqrt(2);function Xe(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ve?10:o>=Be?5:o>=Ze?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ve?10:o>=Be?5:o>=Ze?2:1)}function $e(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ve?i*=10:o>=Be?i*=5:o>=Ze&&(i*=2),n<t?-i:i}var We=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Ge=function(t){let n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=(n,e)=>t(n)-e,e=function(t){return(n,e)=>We(t(n),e)}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const u=r(t,e,i,o-1);return u>i&&n(t[u-1],e)>-n(t[u],e)?u-1:u},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};const Qe=Ge(We),Je=Qe.right;Qe.left,Ge((function(t){return null===t?NaN:+t})).center;var Ke=Je,tr=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}};function nr(t){return+t}var er=[0,1];function rr(t){return t}function ir(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function or(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=ir(i,r),o=e(u,o)):(r=ir(r,i),o=e(o,u)),function(t){return o(r(t))}}function ur(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=ir(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(n){var e=Ke(t,n,1,r)-1;return o[e](i[e](n))}}function ar(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sr(){var t,n,e,r,i,o,u=er,a=er,s=Cn,c=rr;function l(){var t,n,e,s=Math.min(u.length,a.length);return c!==rr&&(t=u[0],n=u[s-1],t>n&&(e=t,t=n,n=e),c=function(e){return Math.max(t,Math.min(n,e))}),r=s>2?ur:or,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(u.map(t),a,s)))(t(c(n)))}return f.invert=function(e){return c(n((o||(o=r(a,u.map(t),xn)))(e)))},f.domain=function(t){return arguments.length?(u=Array.from(t,nr),l()):u.slice()},f.range=function(t){return arguments.length?(a=Array.from(t),l()):a.slice()},f.rangeRound=function(t){return a=Array.from(t),s=tr,l()},f.clamp=function(t){return arguments.length?(c=!!t||rr,l()):c!==rr},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function cr(){return sr()(rr,rr)}function lr(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var fr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hr(t){if(!(n=fr.exec(t)))throw new Error("invalid format: "+t);var n;return new pr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function pr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}hr.prototype=pr.prototype,pr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function dr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}var vr,gr,mr,yr,wr=function(t){return(t=dr(Math.abs(t)))?t[1]:NaN},_r=function(t,n){var e=dr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},br={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>_r(100*t,n),r:_r,s:function(t,n){var e=dr(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(vr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+dr(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},xr=function(t){return t},Mr=Array.prototype.map,kr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];gr=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?xr:(n=Mr.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(t.substring(i-=a,i+a)),!((s+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?xr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Mr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=hr(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,v=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(v=!0,y="g"):br[y]||(void 0===g&&(g=12),m=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===h?o:/[%p]/.test(y)?s:"",b=br[y],x=/[defgprs%]/.test(y);function M(t){var i,o,s,h=w,M=_;if("c"===y)M=b(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:b(Math.abs(t),g),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:c:"-"===f||"("===f?"":f)+h,M=("s"===y?kr[8+vr/3]:"")+M+(k&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?u+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}v&&!p&&(t=r(t,1/0));var T=h.length+t.length+M.length,A=T<d?new Array(d-T+1).join(n):"";switch(v&&p&&(t=r(A+t,A.length?d-M.length:1/0),A=""),e){case"<":t=h+t+M+A;break;case"=":t=h+A+t+M;break;case"^":t=A.slice(0,T=A.length>>1)+h+t+M+A.slice(T);break;default:t=A+h+t+M}return a(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=hr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(wr(n)/3))),i=Math.pow(10,-r),o=kr[8+r/3];return function(t){return e(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),mr=gr.format,yr=gr.formatPrefix;function Tr(t,n,e,r){var i,o=$e(t,n,e);switch((r=hr(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(wr(n)/3)))-wr(Math.abs(t)))}(o,u))||(r.precision=i),yr(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,wr(n)-wr(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-wr(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return mr(r)}function Ar(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=Xe(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(u=-u,t=Math.ceil(t*u),n=Math.floor(n*u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)/u;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Tr(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),u=0,a=o.length-1,s=o[u],c=o[a],l=10;for(c<s&&(i=s,s=c,c=i,i=u,u=a,a=i);l-- >0;){if((i=Xe(s,c,e))===r)return o[u]=s,o[a]=c,n(o);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Sr(){var t=cr();return t.copy=function(){return ar(t,Sr())},lr.apply(t,arguments),Ar(t)}var Er=new Date,Cr=new Date;function Nr(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return Nr((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Er.setTime(+n),Cr.setTime(+r),t(Er),t(Cr),Math.floor(e(Er,Cr))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var Dr=Nr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Dr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Nr((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var Ur=Dr,Ir=(Dr.range,Nr((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));Ir.range;function Or(t){return Nr((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var zr=Or(0),jr=Or(1),Lr=Or(2),Fr=Or(3),Rr=Or(4),Yr=Or(5),Hr=Or(6),Pr=(zr.range,jr.range,Lr.range,Fr.range,Rr.range,Yr.range,Hr.range,Nr(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5,t=>t.getDate()-1)),qr=Pr,Vr=(Pr.range,Nr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}))),Br=(Vr.range,Nr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()}))),Zr=(Br.range,Nr((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()}))),Xr=Zr,$r=(Zr.range,Nr((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t})));$r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Nr((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):$r:null};var Wr=$r;$r.range;function Gr(t){return Nr((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var Qr=Gr(0),Jr=Gr(1),Kr=Gr(2),ti=Gr(3),ni=Gr(4),ei=Gr(5),ri=Gr(6),ii=(Qr.range,Jr.range,Kr.range,ti.range,ni.range,ei.range,ri.range,Nr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}))),oi=ii,ui=(ii.range,Nr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));ui.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Nr((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var ai=ui;ui.range;function si(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ci(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function li(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var fi,hi,pi,di,vi={"-":"",_:" ",0:"0"},gi=/^\s*\d+/,mi=/^%/,yi=/[\\^$*+?|[\]().{}]/g;function wi(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function _i(t){return t.replace(yi,"\\$&")}function bi(t){return new RegExp("^(?:"+t.map(_i).join("|")+")","i")}function xi(t){return new Map(t.map((t,n)=>[t.toLowerCase(),n]))}function Mi(t,n,e){var r=gi.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ki(t,n,e){var r=gi.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Ti(t,n,e){var r=gi.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Ai(t,n,e){var r=gi.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Si(t,n,e){var r=gi.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ei(t,n,e){var r=gi.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ci(t,n,e){var r=gi.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Ni(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Di(t,n,e){var r=gi.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Ui(t,n,e){var r=gi.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ii(t,n,e){var r=gi.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Oi(t,n,e){var r=gi.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function zi(t,n,e){var r=gi.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ji(t,n,e){var r=gi.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Li(t,n,e){var r=gi.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Fi(t,n,e){var r=gi.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Ri(t,n,e){var r=gi.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Yi(t,n,e){var r=mi.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Hi(t,n,e){var r=gi.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Pi(t,n,e){var r=gi.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function qi(t,n){return wi(t.getDate(),n,2)}function Vi(t,n){return wi(t.getHours(),n,2)}function Bi(t,n){return wi(t.getHours()%12||12,n,2)}function Zi(t,n){return wi(1+qr.count(Ur(t),t),n,3)}function Xi(t,n){return wi(t.getMilliseconds(),n,3)}function $i(t,n){return Xi(t,n)+"000"}function Wi(t,n){return wi(t.getMonth()+1,n,2)}function Gi(t,n){return wi(t.getMinutes(),n,2)}function Qi(t,n){return wi(t.getSeconds(),n,2)}function Ji(t){var n=t.getDay();return 0===n?7:n}function Ki(t,n){return wi(zr.count(Ur(t)-1,t),n,2)}function to(t){var n=t.getDay();return n>=4||0===n?Rr(t):Rr.ceil(t)}function no(t,n){return t=to(t),wi(Rr.count(Ur(t),t)+(4===Ur(t).getDay()),n,2)}function eo(t){return t.getDay()}function ro(t,n){return wi(jr.count(Ur(t)-1,t),n,2)}function io(t,n){return wi(t.getFullYear()%100,n,2)}function oo(t,n){return wi((t=to(t)).getFullYear()%100,n,2)}function uo(t,n){return wi(t.getFullYear()%1e4,n,4)}function ao(t,n){var e=t.getDay();return wi((t=e>=4||0===e?Rr(t):Rr.ceil(t)).getFullYear()%1e4,n,4)}function so(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+wi(n/60|0,"0",2)+wi(n%60,"0",2)}function co(t,n){return wi(t.getUTCDate(),n,2)}function lo(t,n){return wi(t.getUTCHours(),n,2)}function fo(t,n){return wi(t.getUTCHours()%12||12,n,2)}function ho(t,n){return wi(1+oi.count(ai(t),t),n,3)}function po(t,n){return wi(t.getUTCMilliseconds(),n,3)}function vo(t,n){return po(t,n)+"000"}function go(t,n){return wi(t.getUTCMonth()+1,n,2)}function mo(t,n){return wi(t.getUTCMinutes(),n,2)}function yo(t,n){return wi(t.getUTCSeconds(),n,2)}function wo(t){var n=t.getUTCDay();return 0===n?7:n}function _o(t,n){return wi(Qr.count(ai(t)-1,t),n,2)}function bo(t){var n=t.getUTCDay();return n>=4||0===n?ni(t):ni.ceil(t)}function xo(t,n){return t=bo(t),wi(ni.count(ai(t),t)+(4===ai(t).getUTCDay()),n,2)}function Mo(t){return t.getUTCDay()}function ko(t,n){return wi(Jr.count(ai(t)-1,t),n,2)}function To(t,n){return wi(t.getUTCFullYear()%100,n,2)}function Ao(t,n){return wi((t=bo(t)).getUTCFullYear()%100,n,2)}function So(t,n){return wi(t.getUTCFullYear()%1e4,n,4)}function Eo(t,n){var e=t.getUTCDay();return wi((t=e>=4||0===e?ni(t):ni.ceil(t)).getUTCFullYear()%1e4,n,4)}function Co(){return"+0000"}function No(){return"%"}function Do(t){return+t}function Uo(t){return Math.floor(+t/1e3)}!function(t){fi=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,s=t.shortMonths,c=bi(i),l=xi(i),f=bi(o),h=xi(o),p=bi(u),d=xi(u),v=bi(a),g=xi(a),m=bi(s),y=xi(s),w={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:qi,e:qi,f:$i,g:oo,G:ao,H:Vi,I:Bi,j:Zi,L:Xi,m:Wi,M:Gi,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Do,s:Uo,S:Qi,u:Ji,U:Ki,V:no,w:eo,W:ro,x:null,X:null,y:io,Y:uo,Z:so,"%":No},_={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:co,e:co,f:vo,g:Ao,G:Eo,H:lo,I:fo,j:ho,L:po,m:go,M:mo,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Do,s:Uo,S:yo,u:wo,U:_o,V:xo,w:Mo,W:ko,x:null,X:null,y:To,Y:So,Z:Co,"%":No},b={a:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=d.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=g.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return k(t,n,e,r)},d:Ii,e:Ii,f:Ri,g:Ci,G:Ei,H:zi,I:zi,j:Oi,L:Fi,m:Ui,M:ji,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=l.get(r[0].toLowerCase()),e+r[0].length):-1},q:Di,Q:Hi,s:Pi,S:Li,u:ki,U:Ti,V:Ai,w:Mi,W:Si,x:function(t,n,r){return k(t,e,n,r)},X:function(t,n,e){return k(t,r,n,e)},y:Ci,Y:Ei,Z:Ni,"%":Yi};function x(t,n){return function(e){var r,i,o,u=[],a=-1,s=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++a<c;)37===t.charCodeAt(a)&&(u.push(t.slice(s,a)),null!=(i=vi[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),s=a+1);return u.push(t.slice(s,a)),u.join("")}}function M(t,n){return function(e){var r,i,o=li(1900,void 0,1);if(k(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ci(li(o.y,0,1))).getUTCDay(),r=i>4||0===i?Jr.ceil(r):Jr(r),r=oi.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=si(li(o.y,0,1))).getDay(),r=i>4||0===i?jr.ceil(r):jr(r),r=qr.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ci(li(o.y,0,1)).getUTCDay():si(li(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ci(o)):si(o)}}function k(t,n,e,r){for(var i,o,u=0,a=n.length,s=e.length;u<a;){if(r>=s)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=b[i in vi?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return w.x=x(e,w),w.X=x(r,w),w.c=x(n,w),_.x=x(e,_),_.X=x(r,_),_.c=x(n,_),{format:function(t){var n=x(t+="",w);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}(t),hi=fi.format,pi=fi.parse,di=fi.utcFormat,fi.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Io(t){return new Date(t)}function Oo(t){return t instanceof Date?+t:+new Date(+t)}function zo(t,n,e,r,i,o,u,a,s){var c=cr(),l=c.invert,f=c.domain,h=s(".%L"),p=s(":%S"),d=s("%I:%M"),v=s("%I %p"),g=s("%a %d"),m=s("%b %d"),y=s("%B"),w=s("%Y"),_=[[u,1,1e3],[u,5,5e3],[u,15,15e3],[u,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[e,1,6048e5],[n,1,2592e6],[n,3,7776e6],[t,1,31536e6]];function b(a){return(u(a)<a?h:o(a)<a?p:i(a)<a?d:r(a)<a?v:n(a)<a?e(a)<a?g:m:t(a)<a?y:w)(a)}function x(n,e,r){if(null==n&&(n=10),"number"==typeof n){var i,o=Math.abs(r-e)/n,u=Ge((function(t){return t[2]})).right(_,o);return u===_.length?(i=$e(e/31536e6,r/31536e6,n),n=t):u?(i=(u=_[o/_[u-1][2]<_[u][2]/o?u-1:u])[1],n=u[0]):(i=Math.max($e(e,r,n),1),n=a),n.every(i)}return n}return c.invert=function(t){return new Date(l(t))},c.domain=function(t){return arguments.length?f(Array.from(t,Oo)):f().map(Io)},c.ticks=function(t){var n,e=f(),r=e[0],i=e[e.length-1],o=i<r;return o&&(n=r,r=i,i=n),n=(n=x(t,r,i))?n.range(r,i+1):[],o?n.reverse():n},c.tickFormat=function(t,n){return null==n?b:s(n)},c.nice=function(t){var n=f();return(t=x(t,n[0],n[n.length-1]))?f(function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t}(n,t)):c},c.copy=function(){return ar(c,zo(t,n,e,r,i,o,u,a,s))},c}var jo=Nr((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Lo=jo,Fo=(jo.range,Nr((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}))),Ro=Fo,Yo=(Fo.range,Nr((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()}))),Ho=Yo;Yo.range;const Po=Math.PI,qo=2*Po,Vo=qo-1e-6;function Bo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Zo(){return new Bo}Bo.prototype=Zo.prototype={constructor:Bo,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,s=r-n,c=o-t,l=u-n,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(l*a-s*c)>1e-6&&i){var h=e-o,p=r-u,d=a*a+s*s,v=h*h+p*p,g=Math.sqrt(d),m=Math.sqrt(f),y=i*Math.tan((Po-Math.acos((d+f-v)/(2*g*m)))/2),w=y/m,_=y/g;Math.abs(w-1)>1e-6&&(this._+="L"+(t+w*c)+","+(n+w*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*p)+","+(this._x1=t+_*a)+","+(this._y1=n+_*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),s=t+u,c=n+a,l=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+s+","+c),e&&(f<0&&(f=f%qo+qo),f>Vo?this._+="A"+e+","+e+",0,1,"+l+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=Po)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Xo=Zo,$o=(Array.prototype.slice,function(t){return function(){return t}});function Wo(t){this._context=t}Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var Go=function(t){return new Wo(t)};function Qo(t){return t[0]}function Jo(t){return t[1]}var Ko=function(t,n){var e=$o(!0),r=null,i=Go,o=null;function u(u){var a,s,c,l=(u=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(u)).length,f=!1;for(null==r&&(o=i(c=Xo())),a=0;a<=l;++a)!(a<l&&e(s=u[a],a,u))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(s,a,u),+n(s,a,u));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?Qo:$o(t),n="function"==typeof n?n:void 0===n?Jo:$o(n),u.x=function(n){return arguments.length?(t="function"==typeof n?n:$o(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:$o(+t),u):n},u.defined=function(t){return arguments.length?(e="function"==typeof t?t:$o(!!t),u):e},u.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),u):r},u};function tu(t){return((t=Math.exp(t))+1/t)/2}(function t(n,e,r){function i(t,i){var o,u,a=t[0],s=t[1],c=t[2],l=i[0],f=i[1],h=i[2],p=l-a,d=f-s,v=p*p+d*d;if(v<1e-12)u=Math.log(h/c)/n,o=function(t){return[a+t*p,s+t*d,c*Math.exp(n*t*u)]};else{var g=Math.sqrt(v),m=(h*h-c*c+r*v)/(2*c*e*g),y=(h*h-c*c-r*v)/(2*h*e*g),w=Math.log(Math.sqrt(m*m+1)-m),_=Math.log(Math.sqrt(y*y+1)-y);u=(_-w)/n,o=function(t){var r,i=t*u,o=tu(w),l=c/(e*g)*(o*(r=n*i+w,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[a+l*p,s+l*d,c*o/tu(n*i+w)]}}return o.duration=1e3*u*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i})(Math.SQRT2,2,4);function nu(t,n,e){this.k=t,this.x=n,this.y=e}nu.prototype={constructor:nu,scale:function(t){return 1===t?this:new nu(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new nu(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new nu(1,0,0);nu.prototype;e(144);var eu=e(37),ru=e.n(eu),iu=e(38),ou=e.n(iu),uu=e(39),au=e.n(uu),su=e(40),cu=e.n(su),lu=function(t,n){return t&&n?t+"-"+function(t){return cu()(t)}(n):void 0},fu={visited:"#AFB1A9",default:"#AFB1A9",context:"#E1E2DF",celkem:"#000000","nemoci-nakažlivé-a-cizopasné":"#f95d6a","rakovina-a-jiné-nádory":"#a05195","nemoci-ústrojí-oběhu-krevního":"#ffa600","nemoci-rheumatické,-výživové,-žláz-s-vnitřním-vyměšováním,-jiné-nemoci-celkové-a-avitaminos":"#000","nemoci-krve-a-ústrojů-krvetvorných":"#11a579","otravy-vleklé":"#3969ac","nemoci-soustavy-nervové-a-smyslových-ústrojů":"#f2b701","nemoci-ústrojů-dýchacích":"#e73f74","nemoci-ústrojí-zažívacího":"#80ba5a","nemoci-ústrojí-močového-a-pohlavního":"#e68310","nemoci-kůže-a-vaziva-podkožního":"#008695","nemoci-kostí-a-ústrojí-pohybu":"#cf1c90","vrozené-vady-vývojové":"#f97b72","zvláštní-nemoci-útlého-věku":"#4b4b8f","stařecká-sešlost":"#a5aa99","sebevraždy":"#0ebcbf","vraždy-a-zabití":"#5158bb","úrazy-při-dopravě":"#9e52aa","úrazy-a-otravy-mimo-dopravu":"#eb4776","válečné-akce-a-soudní-poprava":"#665191","neurčité-příčiny-smrti":"#f58a5a"},hu=function(t){return fu[t]?fu[t]:fu.default};function pu(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return du(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return du(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var vu=function(t){var n=t.vizSvg,e=t.data1919MzStd,r=t.data1919MStd,i=t.data1919ZStd,o=t.vizSteps,u=t.viz,a=ru()();a.setup({offset:.15,step:"#prvni-republika-pribehy .step"}).onStepEnter((function(t){var a=t.element,s=t.direction,c=(t.index,parseInt(a.dataset.step,10));"down"===s&&o[c]&&o[c].fromPrevious&&(console.log("Calling ".concat(c,".fromPrevious")),o[c].fromPrevious({vizSvg:n,viz:u,data1919MzStd:e,data1919MStd:r,data1919ZStd:i})),"up"===s&&o[c+1]&&o[c+1].backToPrevious&&(console.log("Calling ".concat(c+1,".backToPrevious")),o[c+1].backToPrevious({vizSvg:n,viz:u,data1919MzStd:e,data1919MStd:r,data1919ZStd:i})),a.classList.add("is-active"),document.querySelectorAll("#prvni-republika-pribehy .dots .dot").forEach((function(t){t.classList.remove("is-active")}));var l=document.querySelector("#prvni-republika-pribehy .dots .dot-step-".concat(c));l&&l.classList.add("is-active")})).onStepExit((function(t){var n=t.element;t.direction,t.index,parseInt(n.dataset.step,10);n.classList.remove("is-active")})),window.addEventListener("resize",a.resize);var s=document.querySelectorAll("#prvni-republika-pribehy .step").length,c=document.querySelector("#prvni-republika-pribehy .dots");ou()(s,(function(t){var n=t+1,e=document.createElement("button");e.classList.add("dot"),e.classList.add("dot-step-".concat(n)),1===n&&e.classList.add("is-active"),e.addEventListener("click",(function(t){return function(t){document.querySelectorAll("#prvni-republika-pribehy .step").forEach((function(n){n.dataset.step===String(t)&&n.scrollIntoView()}))}(n)})),c.append(e)}))},gu=function(t){var n=t.vizSvg,e=t.data1919MzStd,i=(t.data1919MStd,t.data1919ZStd,n.node().parentNode.getBoundingClientRect()),o=i.width,u=i.height,a=e.filter((function(t){return"Celkem"!==t.skupina})),s=n.attr("viewBox",[0,0,o,u]),c=e[0].data.map((function(t){return pi("%Y")(t.rok)})),l=function(){return lr.apply(zo(ai,Lo,Qr,oi,Ro,Ho,Xr,Wr,di).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}().domain(function(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}(c)).range([yu.left,o-yu.right]),p=Sr().domain([0,r(e.map((function(t){return r(t.data.map((function(t){return t.value})))})))]).nice().range([u-yu.bottom,yu.top]),d=Sr().domain([0,r(a.map((function(t){return r(t.data.map((function(t){return t.value})))})))]).nice().range([u-yu.bottom,yu.top]);s.append("g").attr("class","g-axis-x").call((function(t){return t.attr("transform","translate(0,".concat(u-yu.bottom,")")).call((n=l,f(3,n)).ticks(Ur.every(1)).tickSizeOuter(0).tickFormat(hi("%Y")));var n})),s.append("g").attr("class","g-axis-y").call((function(t){return t.attr("transform","translate(".concat(yu.left,",0)")).call(h(p)).call((function(t){return t.select(".domain").attr("stroke-width",0)}))}));var v=Ko().x((function(t){return l(pi("%Y")(t.rok))})).y((function(t){return p(t.value?t.value:0)})),g=Ko().x((function(t){return l(pi("%Y")(t.rok))})).y((function(t){return d(t.value?t.value:0)})),m=s.append("g").attr("class","g-lines");return m.selectAll("path.lines").data(e.filter((function(t){return"Celkem"===t.skupina}))).enter().append("path").attr("id",(function(t){return lu("prvni-republika-pribehy-line",t.skupina)})).attr("class","lines").attr("d",(function(t){return v(t.data)})).attr("stroke",hu("celkem")).attr("stroke-width",2).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("fill","none"),{x:l,yTotal:p,yCategories:d,width:o,height:u,lineTotal:v,lineCategories:g,svgLinesG:m}},mu={2:{fromPrevious:function(t){var n=t.vizSvg,e=t.viz,r=(t.data1919MzStd,e.height,e.x),i=e.yTotal,o=n.append("g").attr("class","g-xaxis-annotations").lower(),u=Ko().x((function(){return r(pi("%Y")(1919))})).y((function(t){return i(t)}));o.append("path").attr("id","prvni-republika-pribehy-annotation-first-republic-line").attr("d",u([0,2200])).attr("stroke","#cccccc").attr("stroke-width",1).attr("stroke-dasharray","4,4").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("fill","none"),o.append("text").attr("id","prvni-republika-pribehy-annotation-first-republic-label").text("První republika").attr("x",r(pi("%Y")(1919))+10).attr("y",i(2200)+25).style("fill","#aaaaaa"),o.append("rect").attr("id","prvni-republika-pribehy-annotation-2ww-rect").attr("width",r(pi("%Y")(1945))-r(pi("%Y")(1939))).attr("height",i(0)-i(2200)).attr("x",r(pi("%Y")(1939))).attr("y",i(2200)).style("fill","#eee"),o.append("text").attr("id","prvni-republika-pribehy-annotation-2ww-label").text("2. světová válka").attr("x",r(pi("%Y")(1939))+40).attr("y",i(2200)+25).style("fill","#aaaaaa")},backToPrevious:function(t){t.vizSvg.select(".g-xaxis-annotations").remove()}},3:{fromPrevious:function(t){var n=t.vizSvg,e=t.viz,r=t.data1919MzStd,i=e.x,o=e.yCategories,u=e.lineTotal,a=e.lineCategories,s=e.svgLinesG,c=r.filter((function(t){return"Celkem"!==t.skupina})),l=r.find((function(t){return"Celkem"===t.skupina}));s.select("#"+lu("prvni-republika-pribehy-line","Celkem")).remove(),s.selectAll("path.lines").data(c).enter().append("path").attr("id",(function(t){return lu("prvni-republika-pribehy-line",t.skupina)})).attr("data-category-name",(function(t){return t.skupina})).attr("class","lines").attr("d",(function(){return u(l.data)})).attr("stroke",hu("default")).attr("stroke-width",2).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("fill","none"),r.map((function(t){return t.skupina})).filter((function(t){return"Celkem"!==t})).forEach((function(t){n.select("#"+lu("prvni-republika-pribehy-line",t)).transition().duration(700).attr("d",(function(){return u(r.find((function(n){return n.skupina===t})).data)}))}));n.select(".g-axis-y").transition().duration(700).delay(700).call((function(t){return t.attr("transform","translate(".concat(yu.left,",0)")).call(h(o))})),c.map((function(t){return t.skupina})).filter((function(t){return"Celkem"!==t})).forEach((function(t){n.select("#"+lu("prvni-republika-pribehy-line",t)).transition().duration(700).delay(700).attr("d",(function(){return a(r.find((function(n){return n.skupina===t})).data)}))}));var f=Ko().x((function(){return i(pi("%Y")(1919))})).y((function(t){return o(t)}));n.select("#prvni-republika-pribehy-annotation-first-republic-line").transition().duration(700).delay(1400).attr("d",f([-40,0])),n.select("#prvni-republika-pribehy-annotation-first-republic-label").transition().duration(700).delay(1400).attr("y",o(0)+40),n.select("#prvni-republika-pribehy-annotation-2ww-rect").transition().duration(700).delay(1400).attr("height",o(-40)-o(0)).attr("y",o(0)),n.select("#prvni-republika-pribehy-annotation-2ww-label").transition().duration(700).delay(1400).attr("y",o(0)+40)},backToPrevious:function(t){var n=t.vizSvg,e=t.viz,r=t.data1919MzStd,i=e.yTotal,o=e.lineTotal,u=e.svgLinesG,a=r.find((function(t){return"Celkem"===t.skupina}));n.select(".g-axis-y").transition().duration(700).call((function(t){return t.attr("transform","translate(".concat(yu.left,",0)")).call(h(i))})),u.selectAll("path.lines").remove(),u.selectAll("path.lines").data([a]).enter().append("path").attr("id",(function(t){return lu("prvni-republika-pribehy-line",t.skupina)})).attr("class","lines").attr("d",(function(t){return o(t.data)})).attr("stroke",hu("celkem")).attr("stroke-width",2).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("fill","none")}}},yu={top:20,right:30,bottom:200,left:40};Promise.all([fetch("data/1919_mz_std.json").then((function(t){return t.error?Promise.reject():t.json()})),fetch("data/1919_m_std.json").then((function(t){return t.error?Promise.reject():t.json()})),fetch("data/1919_z_std.json").then((function(t){return t.error?Promise.reject():t.json()}))]).then((function(t){var n=pu(t,3),e=n[0],r=n[1],i=n[2],o=Ot("#prvni-republika-pribehy .viz"),u=gu({vizSvg:o,data1919MzStd:e,data1919MStd:r,data1919ZStd:i});vu({vizSvg:o,data1919MzStd:e,data1919MStd:r,data1919ZStd:i,vizSteps:mu,viz:u});var a=au()((function(){o.selectAll("*").remove(),u=gu({vizSvg:o,data1919MzStd:e,data1919MStd:r,data1919ZStd:i})}),200);window.addEventListener("resize",a)}))},18:function(t,n,e){var r=e(35).Symbol;t.exports=r},32:function(t,n,e){var r=e(33),i=e(34),o=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=r(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var e=a.test(t);return e||s.test(t)?c(t.slice(2),e?2:8):u.test(t)?NaN:+t}},33:function(t,n){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},34:function(t,n,e){var r=e(150),i=e(155);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},35:function(t,n,e){var r=e(151),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},36:function(t,n,e){var r=e(162);t.exports=function(t){return null==t?"":r(t)}},37:function(t,n,e){t.exports=function(){"use strict";function t(t){return"scrollama__debug-offset--"+t}function n(n){!function(n){var e=n.id,r=n.offsetVal,i=n.stepClass,o=document.createElement("div");o.id=t(e),o.className="scrollama__debug-offset",o.style.position="fixed",o.style.left="0",o.style.width="100%",o.style.height="0",o.style.borderTop="2px dashed black",o.style.zIndex="9999";var u=document.createElement("p");u.innerHTML='".'+i+'" trigger: <span>'+r+"</span>",u.style.fontSize="12px",u.style.fontFamily="monospace",u.style.color="black",u.style.margin="0",u.style.padding="6px",o.appendChild(u),document.body.appendChild(o)}({id:n.id,offsetVal:n.offsetVal,stepClass:n.stepEl[0].className})}function e(t){var n=t.id,e=t.index,r=t.state,i="scrollama__debug-step--"+n+"-"+e,o=document.getElementById(i+"_above"),u=document.getElementById(i+"_below"),a="enter"===r?"block":"none";o&&(o.style.display=a),u&&(u.style.display=a)}return function(){var r=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"],i={},o={},u=null,a=[],s=[],c=[],l=[],f=0,h=0,p=0,d=0,v=0,g=0,m=!1,y=!1,w=!1,_=!1,b=!1,x=!1,M="down",k="percent",T=[];function A(t){console.error("scrollama error: "+t)}function S(){i={stepEnter:function(){},stepExit:function(){},stepProgress:function(){}},o={}}function E(t){return t.getBoundingClientRect().top+window.pageYOffset-(document.body.clientTop||0)}function C(t){return+t.getAttribute("data-scrollama-index")}function N(){window.pageYOffset>v?M="down":window.pageYOffset<v&&(M="up"),v=window.pageYOffset}function D(t){o[t]&&o[t].forEach((function(t){return t.disconnect()}))}function U(){var n,e;p=window.innerHeight,n=document.body,e=document.documentElement,d=Math.max(n.scrollHeight,n.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),h=f*("pixels"===k?1:p),m&&(s=a.map((function(t){return t.getBoundingClientRect().height})),c=a.map(E),y&&V()),w&&function(n){var e=n.id,r=n.offsetMargin,i=n.offsetVal,o="pixels"===n.format?"px":"",u=t(e),a=document.getElementById(u);a.style.top=r+"px",a.querySelector("span").innerText=""+i+o}({id:u,offsetMargin:h,offsetVal:f,format:k})}function I(t){if(t&&!y){if(!m)return A("scrollama error: enable() called before scroller was ready"),void(y=!1);V()}!t&&y&&r.forEach(D),y=t}function O(t,n){var e=C(t);void 0!==n&&(l[e].progress=n);var r={element:t,index:e,progress:l[e].progress};"enter"===l[e].state&&i.stepProgress(r)}function z(t,n){if("above"===n)for(var e=0;e<t;e+=1){var r=l[e];"enter"!==r.state&&"down"!==r.direction?(j(a[e],"down",!1),L(a[e],"down")):"enter"===r.state&&L(a[e],"down")}else if("below"===n)for(var i=l.length-1;i>t;i-=1){var o=l[i];"enter"===o.state&&L(a[i],"up"),"down"===o.direction&&(j(a[i],"up",!1),L(a[i],"up"))}}function j(t,n,r){void 0===r&&(r=!0);var o=C(t),a={element:t,index:o,direction:n};l[o].direction=n,l[o].state="enter",b&&r&&"down"===n&&z(o,"above"),b&&r&&"up"===n&&z(o,"below"),i.stepEnter&&!T[o]&&(i.stepEnter(a,l),w&&e({id:u,index:o,state:"enter"}),x&&(T[o]=!0)),_&&O(t)}function L(t,n){var r=C(t),o={element:t,index:r,direction:n};_&&("down"===n&&l[r].progress<1?O(t,1):"up"===n&&l[r].progress>0&&O(t,0)),l[r].direction=n,l[r].state="exit",i.stepExit(o,l),w&&e({id:u,index:r,state:"exit"})}function F(t){var n=t[0];N();var e=n.isIntersecting,r=n.boundingClientRect,i=n.target,o=r.top,u=r.bottom,a=o-h,s=u-h,c=C(i),f=l[c];e&&a<=0&&s>=0&&"down"===M&&"enter"!==f.state&&j(i,M),!e&&a>0&&"up"===M&&"enter"===f.state&&L(i,M)}function R(t){var n=t[0];N();var e=n.isIntersecting,r=n.boundingClientRect,i=n.target,o=r.top,u=r.bottom,a=o-h,s=u-h,c=C(i),f=l[c];e&&a<=0&&s>=0&&"up"===M&&"enter"!==f.state&&j(i,M),!e&&s<0&&"down"===M&&"enter"===f.state&&L(i,M)}function Y(t){var n=t[0];N();var e=n.isIntersecting,r=n.target,i=C(r),o=l[i];e&&"down"===M&&"down"!==o.direction&&"enter"!==o.state&&(j(r,"down"),L(r,"down"))}function H(t){var n=t[0];N();var e=n.isIntersecting,r=n.target,i=C(r),o=l[i];e&&"up"===M&&"down"===o.direction&&"enter"!==o.state&&(j(r,"up"),L(r,"up"))}function P(t){var n=t[0];N();var e=n.isIntersecting,r=n.intersectionRatio,i=n.boundingClientRect,o=n.target,u=i.bottom;e&&u-h>=0&&O(o,+r)}function q(){o.stepProgress=a.map((function(t,n){var e=s[n]-h+"px 0px "+(-p+h)+"px 0px",r=function(t){for(var n=Math.ceil(t/g),e=[],r=1/n,i=0;i<n;i+=1)e.push(i*r);return e}(s[n]),i=new IntersectionObserver(P,{rootMargin:e,threshold:r});return i.observe(t),i}))}function V(){r.forEach(D),o.viewportAbove=a.map((function(t,n){var e=d-c[n],r=h-p-s[n],i=new IntersectionObserver(Y,{rootMargin:e+"px 0px "+r+"px 0px"});return i.observe(t),i})),o.viewportBelow=a.map((function(t,n){var e=-h-s[n],r=h-p+s[n]+d,i=new IntersectionObserver(H,{rootMargin:e+"px 0px "+r+"px 0px"});return i.observe(t),i})),o.stepAbove=a.map((function(t,n){var e=-h+s[n],r=new IntersectionObserver(F,{rootMargin:e+"px 0px "+(h-p)+"px 0px"});return r.observe(t),r})),o.stepBelow=a.map((function(t,n){var e=-h,r=h-p+s[n],i=new IntersectionObserver(R,{rootMargin:e+"px 0px "+r+"px 0px"});return i.observe(t),i})),_&&q()}function B(t){return!(!t||1!==t.nodeType)&&(function(t){var n=window.getComputedStyle(t);return("scroll"===n.overflowY||"auto"===n.overflowY)&&t.scrollHeight>t.clientHeight}(t)?t:B(t.parentNode))}var Z={setup:function(t){var e=t.step,r=t.offset;void 0===r&&(r=.5);var i=t.progress;void 0===i&&(i=!1);var o=t.threshold;void 0===o&&(o=4);var s=t.debug;void 0===s&&(s=!1);var c=t.order;void 0===c&&(c=!0);var h,p,d,v,y,M=t.once;if(void 0===M&&(M=!1),S(),p=(h="abcdefghijklmnopqrstuv").length,d=Date.now(),u=""+[0,0,0].map((function(t){return h[Math.floor(Math.random()*p)]})).join("")+d,v=e,void 0===y&&(y=document),!(a="string"==typeof v?Array.from(y.querySelectorAll(v)):v instanceof Element?[v]:v instanceof NodeList?Array.from(v):v instanceof Array?v:[]).length)return A("no step elements"),Z;var k=a.reduce((function(t,n){return t||B(n.parentNode)}),!1);return k&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",k),w=s,_=i,b=c,x=M,Z.offsetTrigger(r),g=Math.max(1,+o),m=!0,w&&n({id:u,stepEl:a,offsetVal:f}),a.forEach((function(t,n){return t.setAttribute("data-scrollama-index",n)})),l=a.map((function(){return{direction:null,state:null,progress:0}})),U(),Z.enable(),Z},resize:function(){return U(),Z},enable:function(){return I(!0),Z},disable:function(){return I(!1),Z},destroy:function(){I(!1),S()},offsetTrigger:function(t){if(null===t)return f;if("number"==typeof t)k="percent",t>1&&A("offset value is greater than 1. Fallback to 1."),t<0&&A("offset value is lower than 0. Fallback to 0."),f=Math.min(Math.max(0,t),1);else if("string"==typeof t&&t.indexOf("px")>0){var n=+t.replace("px","");isNaN(n)?(A("offset value must be in 'px' format. Fallback to 0.5."),f=.5):(k="pixels",f=n)}else A("offset value does not include 'px'. Fallback to 0.5."),f=.5;return Z},onStepEnter:function(t){return"function"==typeof t?i.stepEnter=t:A("onStepEnter requires a function"),Z},onStepExit:function(t){return"function"==typeof t?i.stepExit=t:A("onStepExit requires a function"),Z},onStepProgress:function(t){return"function"==typeof t?i.stepProgress=t:A("onStepProgress requires a function"),Z}};return Z}}()},38:function(t,n,e){var r=e(145),i=e(146),o=e(148),u=Math.min;t.exports=function(t,n){if((t=o(t))<1||t>9007199254740991)return[];var e=4294967295,a=u(t,4294967295);n=i(n),t-=4294967295;for(var s=r(a,n);++e<t;)n(e);return s}},39:function(t,n,e){var r=e(33),i=e(156),o=e(32),u=Math.max,a=Math.min;t.exports=function(t,n,e){var s,c,l,f,h,p,d=0,v=!1,g=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(n){var e=s,r=c;return s=c=void 0,d=n,f=t.apply(r,e)}function w(t){return d=t,h=setTimeout(b,n),v?y(t):f}function _(t){var e=t-p;return void 0===p||e>=n||e<0||g&&t-d>=l}function b(){var t=i();if(_(t))return x(t);h=setTimeout(b,function(t){var e=n-(t-p);return g?a(e,l-(t-d)):e}(t))}function x(t){return h=void 0,m&&s?y(t):(s=c=void 0,f)}function M(){var t=i(),e=_(t);if(s=arguments,c=this,p=t,e){if(void 0===h)return w(p);if(g)return clearTimeout(h),h=setTimeout(b,n),y(p)}return void 0===h&&(h=setTimeout(b,n)),f}return n=o(n)||0,r(e)&&(v=!!e.leading,l=(g="maxWait"in e)?u(o(e.maxWait)||0,n):l,m="trailing"in e?!!e.trailing:m),M.cancel=function(){void 0!==h&&clearTimeout(h),d=0,s=p=c=h=void 0},M.flush=function(){return void 0===h?f:x(i())},M}},40:function(t,n,e){var r=e(157)((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}));t.exports=r}});</script>